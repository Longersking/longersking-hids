<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HIDS</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="stylesheet" href="/static/css/elementUI.css">
    <script src="../../static/js/vue2.js"></script>
    <script src="../../static/js/elementUI.js"></script>
    <script src="../../static/js/axios.js"></script>
    <script src="../../static/js/request.js"></script>
    <style>
        .container {
            display: flex;
            justify-content: center;
            padding-top: 10%;
        }

        .box-card {
            padding-left: 100px;
            padding-right: 100px;
        }

        .header {
            padding: 10px;
            font-size: 1.2rem;
            text-align: center;
        }
    </style>
</head>
<body>
<div id="app">
    <div class="container animate__animated animate__flipInX">
        <el-card class="box-card" shadow="hover">
            <div class="header">
                用户登录
            </div>
            <el-form :model="form" class="form">
                <el-form-item label="用户名">
                    <el-input type="text" v-model="form.username"></el-input>
                </el-form-item>
                <el-form-item label="密码">
                    <el-input type="text" v-model="form.password"></el-input>
                </el-form-item>
                <el-button @click="submit()" style="width: 100%" type="primary">
                    提交
                </el-button>
            </el-form>
        </el-card>
    </div>

</div>
<!--<div class="login">-->
<!--    <div class="header">登录</div>-->
<!--    &lt;!&ndash; 表单，用于提交用户名和密码 &ndash;&gt;-->
<!--    <form action="/user/login" method="POST"> &lt;!&ndash; 修改 action 为你想要提交的地址 &ndash;&gt;-->
<!--        &lt;!&ndash; 用户名输入框 &ndash;&gt;-->
<!--        <div class="container">-->
<!--            <input type="text" name="username" placeholder="请输入用户名" required> &lt;!&ndash; 使用 name 属性来定义表单字段名 &ndash;&gt;-->
<!--            <span class="left"></span>-->
<!--            <span class="right"></span>-->
<!--            <span class="top"></span>-->
<!--            <span class="bottom"></span>-->
<!--        </div>-->

<!--        &lt;!&ndash; 密码输入框 &ndash;&gt;-->
<!--        <div class="container1">-->
<!--            <input type="password" name="password" placeholder="请输入密码" required> &lt;!&ndash; `required` 表示该字段必填 &ndash;&gt;-->
<!--            <span class="left"></span>-->
<!--            <span class="right"></span>-->
<!--            <span class="top"></span>-->
<!--            <span class="bottom"></span>-->
<!--        </div>-->

<!--        &lt;!&ndash; 提交按钮 &ndash;&gt;-->
<!--        <button type="submit" class="btn">立即登录</button>-->
<!--        &lt;!&ndash; 使用 `button` 标签，并设置 `type="submit"` &ndash;&gt;-->
<!--    </form>-->
<!--</div>-->
</body>
<script type="text/javascript">
    new Vue({
        el: '#app',
        data: function () {
            return {
                form: {
                    username: "",
                    password: ""
                }
            }
        },
        methods: {
            async submit() {
                //     校验参数
                if (this.form.username === "" || this.form.password === "") {
                    this.$message("请完整填写表单")
                }

                //     发起请求
                let res = await request.post("/user/login", {
                    username: this.form.username,
                    password: this.form.password
                })
                if (res.code > 0) {
                    this.$message({
                        message: res.msg,
                        type: 'success'
                    });
                }
            },
        }
    })

</script>
</html>